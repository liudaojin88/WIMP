<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>越南末端运输列表 - 履约管理</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background-color: #f8f9fa;
            font-size: 0.9rem;
        }
        
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 280px;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
            color: white;
            z-index: 1000;
            overflow-y: auto;
            transition: all 0.3s ease;
        }
        
        .sidebar.collapsed {
            width: 80px;
        }
        
        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }
        
        .sidebar-header .logo {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .sidebar-header .subtitle {
            font-size: 0.85rem;
            opacity: 0.8;
        }
        
        .sidebar.collapsed .sidebar-header .subtitle,
        .sidebar.collapsed .nav-text {
            display: none;
        }
        
        .nav-menu {
            padding: 20px 0;
        }
        
        .nav-item {
            margin-bottom: 5px;
        }
        
        .nav-link {
            color: rgba(255,255,255,0.9);
            padding: 12px 20px;
            display: flex;
            align-items: center;
            text-decoration: none;
            transition: all 0.3s ease;
            border-radius: 0;
        }
        
        .nav-link:hover {
            background: rgba(255,255,255,0.1);
            color: white;
        }
        
        .nav-link.active {
            background: rgba(255,255,255,0.2);
            color: white;
            border-right: 4px solid white;
        }
        
        .nav-link i {
            width: 20px;
            margin-right: 12px;
            text-align: center;
        }
        
        .sidebar.collapsed .nav-link {
            padding: 12px 30px;
            justify-content: center;
        }
        
        .sidebar.collapsed .nav-link i {
            margin-right: 0;
        }
        
        .nav-group {
            margin-bottom: 30px;
        }
        
        .nav-group-title {
            padding: 8px 20px;
            font-size: 0.75rem;
            text-transform: uppercase;
            opacity: 0.7;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
            transition: all 0.3s ease;
        }
        
        .main-content.expanded {
            margin-left: 80px;
        }
        
        .top-navbar {
            background: white;
            padding: 15px 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .toggle-btn {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: #495057;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        
        .toggle-btn:hover {
            background: #f8f9fa;
        }
        
        .content-area {
            padding: 5px;
        }
        
        .breadcrumb-nav {
            background: white;
            padding: 15px 0;
            margin-bottom: 20px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .breadcrumb-nav .breadcrumb {
            margin-bottom: 0;
            background: none;
            padding: 0;
        }
        
        .breadcrumb-nav .breadcrumb-item + .breadcrumb-item::before {
            content: "/";
            color: #6c757d;
        }
        
        .page-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 0;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .search-section {
            background: white;
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 10px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
        }
        
        .results-section {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
        }
        
        .section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #495057;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e9ecef;
        }
        
        .form-label {
            font-weight: 600;
            color: #495057;
            margin-bottom: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 6px;
            padding: 10px 25px;
            font-weight: 500;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            border: none;
            border-radius: 6px;
            padding: 10px 20px;
            font-weight: 500;
        }
        
        .btn-info {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border: none;
            border-radius: 6px;
            padding: 10px 20px;
            font-weight: 500;
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border: none;
            border-radius: 6px;
            padding: 10px 20px;
            font-weight: 500;
        }
        
        .btn-outline-secondary {
            border-radius: 6px;
            padding: 10px 20px;
            font-weight: 500;
        }
        
        /* 查询结果区域按钮字体大小 */
        .results-section .btn {
            font-size: 0.8rem;
        }
        
        .results-section .btn-sm {
            font-size: 0.75rem;
        }
        
        .table {
            border-radius: 8px;
            overflow: hidden;
        }
        
        .table thead th {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: none;
            font-weight: 600;
            color: #495057;
            padding: 15px;
            white-space: nowrap;
        }
        
     .table tbody td {
            padding: 15px;
            vertical-align: middle;
            border-color: #f1f3f4;
        }
        
        .table tbody tr:hover {
            background-color: #f8f9fa;
        }
        
        .expand-btn {
            background: none;
            border: none;
            color: #007bff;
            font-size: 1.2rem;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .expand-btn:hover {
            background-color: #e3f2fd;
            color: #0056b3;
        }
        
        .expand-btn.expanded {
            transform: rotate(90deg);
        }
        
        .batch-details {
            background-color: #f8f9fa;
            border-left: 4px solid #007bff;
        }
        
        .batch-details .table {
            margin-bottom: 0;
        }
        
        .batch-details .table thead th {
            background: #e3f2fd;
            font-size: 0.9rem;
        }
        
        .batch-details .table tbody td {
            padding: 10px;
            font-size: 0.9rem;
        }
        
        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-new {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-confirmed {
            background: #d4edda;
            color: #155724;
        }
        
        .status-pending {
            background: #cce5ff;
            color: #004085;
        }
        
        .status-shipped {
            background: #d1ecf1;
            color: #0c5460;
        }
        
        .status-delivered {
            background: #d4edda;
            color: #155724;
        }
        
        .status-deleted {
            background: #f8d7da;
            color: #721c24;
        }
        
        .currency-amount {
            font-weight: 600;
            color: #28a745;
        }
        
        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-bottom: none;
        }
        
        .modal-header .btn-close {
            filter: invert(1);
        }
        
        .search-btn-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .action-buttons {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .action-buttons .btn {
            margin-right: 10px;
            margin-bottom: 5px;
        }
        
        .status-filter-cards {
            display: flex;
            gap: 8px;
            flex-wrap: nowrap;
            justify-content: flex-start;
            overflow-x: auto;
        }
        
        .status-filter-card {
            background: transparent;
            border: none;
            border-radius: 4px;
            padding: 4px 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: auto;
            flex-shrink: 0;
            box-shadow: none;
        }
        
        .status-filter-card:hover {
            background: #f8f9fa;
            border-radius: 4px;
        }
        
        .status-filter-card.active {
            background: #007bff;
            color: white;
            border-radius: 4px;
        }
        
        .status-filter-card .status-text {
            font-size: 0.9rem;
            font-weight: 500;
            white-space: nowrap;
        }
        
        .status-filter-card .status-count {
            font-weight: bold;
        }
        
        .status-filter-card.active .status-text {
            font-weight: 600;
        }
        
        @media (max-width: 768px) {
            .status-filter-cards {
                justify-content: flex-start;
                gap: 4px;
            }
            
            .status-filter-card {
                min-width: auto;
                padding: 3px 6px;
                flex-shrink: 0;
            }
            
            .status-filter-card .status-text {
                font-size: 0.8rem;
            }
        }
        
        /* 优化表格操作按钮大小 */
        .table td .btn-sm {
            padding: 2px 6px;
            font-size: 0.75rem;
            line-height: 1.2;
            min-width: auto;
            white-space: nowrap;
        }
        
        .table td .btn-sm i {
            font-size: 0.7rem;
        }
        
        .table td .btn-sm:not(:last-child) {
            margin-right: 3px;
        }
        
        @media (max-width: 768px) {
            .search-btn-group {
                flex-direction: column;
                width: 100%;
            }
            
            .search-btn-group .btn {
                width: 100%;
            }
            
            .action-buttons .btn {
                width: 100%;
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            .table td .btn-sm {
                padding: 1px 4px;
                font-size: 0.7rem;
                margin-right: 2px;
            }
            
            .table td .btn-sm i {
                font-size: 0.65rem;
            }
        }
    </style>
</head>
<body>
    <!-- 侧边栏 -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"/>
                    <path d="M9 12l2 2 4-4" stroke="white" stroke-width="2" fill="none"/>
                </svg>
                <span class="nav-text">WIMP</span>
            </div>
            <div class="subtitle">
                <span class="nav-text">工采国际</span>
            </div>
        </div>
        
        <nav class="nav-menu">
            <div class="nav-group">
                <div class="nav-group-title">
                    <span class="nav-text">主要功能</span>
                </div>
                <div class="nav-item">
                    <a href="dashboard.html" class="nav-link">
                        <i class="bi bi-house-door"></i>
                        <span class="nav-text">系统首页</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="vietnam-order-list.html" class="nav-link">
                        <i class="bi bi-list-ul"></i>
                        <span class="nav-text">越南订单列表</span>
                    </a>
                </div>
            </div>
            
            <div class="nav-group">
                <div class="nav-group-title">
                    <span class="nav-text">履约管理</span>
                </div>
                <div class="nav-item">
                    <a href="vietnam-delivery-list.html" class="nav-link active">
                        <i class="bi bi-truck"></i>
                        <span class="nav-text">越南末端运输列表</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="shipment-batch-management.html" class="nav-link">
                        <i class="bi bi-box-seam"></i>
                        <span class="nav-text">跨境发货批次管理</span>
                    </a>
                </div>
            </div>
            
            <div class="nav-group">
                <div class="nav-group-title">
                    <span class="nav-text">批次管理</span>
                </div>
                <div class="nav-item">
                    <a href="vietnam-batch-edit.html" class="nav-link">
                        <i class="bi bi-pencil-square"></i>
                        <span class="nav-text">运输批次编辑</span>
                    </a>
                </div>
            </div>
            
            <div class="nav-group">
                <div class="nav-group-title">
                    <span class="nav-text">系统设置</span>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link">
                        <i class="bi bi-gear"></i>
                        <span class="nav-text">系统设置</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link">
                        <i class="bi bi-person-circle"></i>
                        <span class="nav-text">用户管理</span>
                    </a>
                </div>
            </div>
        </nav>
    </div>
    
    <!-- 主内容区域 -->
    <div class="main-content" id="mainContent">
        <!-- 顶部导航栏 -->
        <div class="top-navbar">
            <div class="d-flex align-items-center">
                <button class="toggle-btn" onclick="toggleSidebar()">
                    <i class="bi bi-list"></i>
                </button>
                <h5 class="mb-0 ms-3">越南末端运输列表</h5>
            </div>
            <div class="d-flex align-items-center">
                <span class="text-muted me-3">欢迎您，管理员</span>
                <div class="dropdown">
                    <button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
                        <i class="bi bi-person-circle me-1"></i>账户
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i>个人资料</a></li>
                        <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>设置</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#"><i class="bi bi-box-arrow-right me-2"></i>退出登录</a></li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- 内容区域 -->
        <div class="content-area">
            <!-- 面包屑导航 -->
            <div class="breadcrumb-nav">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="dashboard.html" class="text-decoration-none">首页</a></li>
                        <li class="breadcrumb-item"><a href="#" class="text-decoration-none">履约管理</a></li>
                        <li class="breadcrumb-item active" aria-current="page">越南末端运输列表</li>
                    </ol>
                </nav>
            </div>


    <div class="container">
        <!-- 查询条件区域 -->
        <div class="search-section">
            <div class="section-title">
                <i class="bi bi-search me-2"></i>查询条件
            </div>
            
            <form id="searchForm">
                <div class="row g-3">
                    <!-- 第一行 -->
                    <div class="col-md-4">
                        <label for="orderNumbers" class="form-label">订单编号</label>
                        <textarea 
                            class="form-control" 
                            id="orderNumbers" 
                            rows="3" 
                            placeholder="输入国际订单号，支持多个查询，回车隔开，不支持模糊查询"
                        ></textarea>
                    </div>
                    
                    <div class="col-md-4">
                        <label for="parentOrderNumbers" class="form-label">父单号</label>
                        <textarea 
                            class="form-control" 
                            id="parentOrderNumbers" 
                            rows="3" 
                            placeholder="输入国际订单父单号，支持多个查询，回车隔开，不支持模糊查询"
                        ></textarea>
                    </div>
                    
                    <div class="col-md-4">
                        <label for="thirdPartyOrderNumbers" class="form-label">第三方订单号</label>
                        <textarea 
                            class="form-control" 
                            id="thirdPartyOrderNumbers" 
                            rows="3" 
                            placeholder="输入第三方订单号，支持多个查询，回车隔开，不支持模糊查询"
                        ></textarea>
                    </div>
                    
                    <!-- 第二行 -->
                    <div class="col-md-3">
                        <label for="localBatchNumber" class="form-label">本地发运批次</label>
                        <input type="text" class="form-control" id="localBatchNumber" placeholder="输入单个批次号，支持右模糊查询">
                    </div>
                    
                    <div class="col-md-3">
                        <label for="transportMode" class="form-label">运输方式</label>
                        <select class="form-select" id="transportMode">
                            <option value="">全部</option>
                            <option value="express">快递运输</option>
                            <option value="vehicle">车辆运输</option>
                        </select>
                    </div>
                    
                    <div class="col-md-3">
                        <label for="customerName" class="form-label">客户名称</label>
                        <input type="text" class="form-control" id="customerName" placeholder="输入客户名称，支持模糊查询">
                    </div>
                    
                    <div class="col-md-3">
                        <label for="distributionCenter" class="form-label">企配中心名称</label>
                        <input type="text" class="form-control" id="distributionCenter" placeholder="输入企配中心名称，支持模糊查询">
                    </div>
                    
                    <!-- 第三行 -->
                    <div class="col-md-3">
                        <label for="warehouseName" class="form-label">备货仓名称</label>
                        <input type="text" class="form-control" id="warehouseName" placeholder="输入备货仓名称，支持模糊查询">
                    </div>
                    
                    <div class="col-md-3">
                        <label for="customsDeclaration" class="form-label">是否报关</label>
                        <select class="form-select" id="customsDeclaration">
                            <option value="">全部</option>
                            <option value="yes">是</option>
                            <option value="no">否</option>
                        </select>
                    </div>
                    
                    <div class="col-md-3">
                        <label for="mkuCodes" class="form-label">MKU</label>
                        <input type="text" class="form-control" id="mkuCodes" placeholder="输入MKU，支持多个查询，回车隔开">
                    </div>
                    
                    <div class="col-md-3">
                        <label for="internationalSku" class="form-label">国际SKU</label>
                        <input type="text" class="form-control" id="internationalSku" placeholder="输入国际SKU，支持多个查询，回车隔开">
                    </div>
                    
                    <!-- 第四行 -->
                    <div class="col-md-4">
                        <label for="customerMaterialCode" class="form-label">客户物料号</label>
                        <input type="text" class="form-control" id="customerMaterialCode" placeholder="输入客户物料号，支持多个查询，回车隔开">
                    </div>
                    
                    <div class="col-md-4">
                        <label class="form-label">订单确认时间</label>
                        <div class="row g-2">
                            <div class="col-6">
                                <input type="datetime-local" class="form-control" id="orderConfirmStartTime">
                            </div>
                            <div class="col-6">
                                <input type="datetime-local" class="form-control" id="orderConfirmEndTime">
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <label class="form-label">企配收货时间</label>
                        <div class="row g-2">
                            <div class="col-6">
                                <input type="datetime-local" class="form-control" id="distributionReceiveStartTime">
                            </div>
                            <div class="col-6">
                                <input type="datetime-local" class="form-control" id="distributionReceiveEndTime">
                            </div>
                        </div>
                    </div>
                    
                    
                    
                    <!-- 查询按钮 -->
                    <div class="col-12 d-flex justify-content-end">
                        <div class="search-btn-group">
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-search me-2"></i>查询
                            </button>
                            <button type="reset" class="btn btn-outline-secondary">
                                <i class="bi bi-arrow-clockwise me-2"></i>重置
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <!-- 查询结果区域 -->
        <div class="results-section">
            <div class="section-title">
                <i class="bi bi-list-ul me-2"></i>查询结果
                <!-- 批次状态筛选区域 -->
                <div class="status-filter-cards ms-4">
                    <div class="status-filter-card active" data-status="all" onclick="filterByStatus('all')">
                        <span class="status-text">全部（<span class="status-count">0</span>）</span>
                    </div>
                    <div class="status-filter-card" data-status="new" onclick="filterByStatus('new')">
                        <span class="status-text">待确认（<span class="status-count">0</span>）</span>
                    </div>
                    <div class="status-filter-card" data-status="confirmed" onclick="filterByStatus('confirmed')">
                        <span class="status-text">待报关（<span class="status-count">0</span>）</span>
                    </div>
                    <div class="status-filter-card" data-status="pending" onclick="filterByStatus('pending')">
                        <span class="status-text">待下发（<span class="status-count">0</span>）</span>
                    </div>
                    <div class="status-filter-card" data-status="ready" onclick="filterByStatus('ready')">
                        <span class="status-text">待发运（<span class="status-count">0</span>）</span>
                    </div>
                    <div class="status-filter-card" data-status="shipped" onclick="filterByStatus('shipped')">
                        <span class="status-text">待妥投（<span class="status-count">0</span>）</span>
                    </div>
                </div>
            </div>
            
            <!-- 操作按钮区域 -->
            <div class="action-buttons">
                <button type="button" class="btn btn-success" onclick="batchConfirm()">
                    <i class="bi bi-check-circle me-2"></i>批量确认
                </button>
                <button type="button" class="btn btn-info" onclick="updatePlannedShipTime()">
                    <i class="bi bi-calendar-event me-2"></i>更新计划发货时间
                </button>
                <button type="button" class="btn btn-warning" onclick="updatePlannedDeliveryTime()">
                    <i class="bi bi-calendar-check me-2"></i>更新计划送达时间
                </button>
                <button type="button" class="btn btn-outline-primary" onclick="exportBatchInfo()">
                    <i class="bi bi-download me-2"></i>导出批次信息
                </button>
                <button type="button" class="btn btn-outline-secondary" onclick="exportBatchOrderInfo()">
                    <i class="bi bi-file-earmark-spreadsheet me-2"></i>导出批次订单信息
                </button>
                <button type="button" class="btn btn-outline-info" onclick="configureBatchColumns()" data-bs-toggle="modal" data-bs-target="#batchColumnConfigModal">
                    <i class="bi bi-gear me-2"></i>批次列配置
                </button>
                <button type="button" class="btn btn-outline-info" onclick="configureOrderColumns()" data-bs-toggle="modal" data-bs-target="#orderColumnConfigModal">
                    <i class="bi bi-sliders me-2"></i>订单商品列配置
                </button>
            </div>
            
            
            
            <!-- 结果表格 -->
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th width="50">
                                <input type="checkbox" class="form-check-input" id="selectAll" onchange="toggleSelectAll()">
                            </th>
                            <th width="50">展开</th>
                            <th>本地发运批次号</th>
                            <th>客户名称</th>
                            <th>订单数量</th>
                            <th>MKU数量</th>
                            <th>订单金额（币种）</th>
                            <th>订单金额（人民币）</th>
                            <th>是否报关</th>
                            <th>报关状态</th>
                            <th>收件人</th>
                            <th>收件人电话</th>
                            <th>收件人地址</th>
                            <th>创建人</th>
                            <th>创建时间</th>
                            <th>状态</th>
                            <th width="200">操作</th>
                        </tr>
                    </thead>
                    <tbody id="batchTableBody">
                        <!-- 示例数据 -->
                        <tr data-batch-id="JDi-HCMC-241020-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-HCMC-241020-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-HCMC-241020-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-HCMC-241020-01</td>
                            <td>越南客户A</td>
                            <td>25</td>
                            <td>15</td>
                            <td>
                                <div class="currency-amount">฿ 125,680.50</div>
                                <div class="currency-amount">$ 3,245.20</div>
                            </td>
                            <td class="currency-amount">¥ 23,456.78</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-warning">待报关</span></td>
                            <td>阮文明</td>
                            <td>+84 901 234 567</td>
                            <td>胡志明市第1区阮惠街123号</td>
                            <td>张三</td>
                            <td>2024-10-20 14:30</td>
                            <td><span class="status-badge status-new">新建</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="editBatch('JDi-HCMC-241020-01')">
                                    <i class="bi bi-pencil"></i> 编辑
                                </button>
                                <button class="btn btn-sm btn-outline-info me-1" onclick="viewBatchDetails('JDi-HCMC-241020-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                                <button class="btn btn-sm btn-outline-success me-1" onclick="confirmBatch('JDi-HCMC-241020-01')">
                                    <i class="bi bi-check"></i> 确认
                                </button>
                                <button class="btn btn-sm btn-outline-danger" onclick="deleteBatch('JDi-HCMC-241020-01')">
                                    <i class="bi bi-trash"></i> 删除
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-HANB-241019-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-HANB-241019-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-HANB-241019-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-HANB-241019-01</td>
                            <td>越南客户B</td>
                            <td>18</td>
                            <td>12</td>
                            <td>
                                <div class="currency-amount">฿ 98,750.30</div>
                            </td>
                            <td class="currency-amount">¥ 18,234.56</td>
                            <td><span class="badge bg-danger">否</span></td>
                            <td><span class="badge bg-secondary">无需报关</span></td>
                            <td>陈氏兰</td>
                            <td>+84 912 345 678</td>
                            <td>河内市还剑区黎太祖街456号</td>
                            <td>李四</td>
                            <td>2024-10-19 16:45</td>
                            <td><span class="status-badge status-confirmed">已确认</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-warning me-1" onclick="sendToDistribution('JDi-HANB-241019-01')">
                                    <i class="bi bi-send"></i> 下发企配
                                </button>
                                <button class="btn btn-sm btn-outline-secondary me-1" onclick="cancelConfirm('JDi-HANB-241019-01')">
                                    <i class="bi bi-x-circle"></i> 取消确认
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-HANB-241019-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-HPGR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-HPGR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-HPGR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-HPGR-241018-01</td>
                            <td>河内贸易公司</td>
                            <td>32</td>
                            <td>18</td>
                            <td>
                                <div class="currency-amount">฿ 156,890.75</div>
                                <div class="currency-amount">$ 4,125.60</div>
                            </td>
                            <td class="currency-amount">¥ 29,876.45</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-success">已报关</span></td>
                            <td>黎文强</td>
                            <td>+84 923 456 789</td>
                            <td>海防市红旗区陈兴道街789号</td>
                            <td>王五</td>
                            <td>2024-10-18 10:20</td>
                            <td><span class="status-badge status-pending">待发运</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-HPGR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>胡志明电子商务</td>
                            <td>45</td>
                            <td>28</td>
                            <td>
                                <div class="currency-amount">฿ 234,567.80</div>
                                <div class="currency-amount">$ 6,789.12</div>
                            </td>
                            <td class="currency-amount">¥ 45,123.67</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-info">报关中</span></td>
                            <td>黎文强</td>
                            <td>+84 908 123 456</td>
                            <td>胡志明市第3区黎文悦街789号</td>
                            <td>赵六</td>
                            <td>2024-10-17 09:15</td>
                            <td><span class="status-badge status-shipped">已发运</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-DNAG-241017-02')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-DNAG-241017-02</td>
                            <td>岘港进出口有限公司</td>
                            <td>22</td>
                            <td>14</td>
                            <td>
                                <div class="currency-amount">฿ 87,654.32</div>
                            </td>
                            <td class="currency-amount">¥ 16,234.89</td>
                            <td><span class="badge bg-danger">否</span></td>
                            <td><span class="badge bg-secondary">无需报关</span></td>
                            <td>范氏花</td>
                            <td>+84 934 567 890</td>
                            <td>岘港市海州区黎笋街321号</td>
                            <td>孙七</td>
                            <td>2024-10-16 13:25</td>
                            <td><span class="status-badge status-delivered">已妥投</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-DNAG-241017-02')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-success me-1" onclick="downloadPOD('JDi-DNAG-241017-02')">
                                    <i class="bi bi-file-check"></i> 下载POD
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-DNAG-241017-02')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-DNAG-241017-02">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-DNAG-241017-02">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-DNAG-241017-02')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-DNAG-241017-02</td>
                            <td>芹苴物流中心</td>
                            <td>38</td>
                            <td>22</td>
                            <td>
                                <div class="currency-amount">฿ 198,765.43</div>
                                <div class="currency-amount">$ 5,234.78</div>
                            </td>
                            <td class="currency-amount">¥ 37,890.12</td>
                            <td><span class="status-badge status-new">新建</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="editBatch('JDi-DNAG-241017-02')">
                                    <i class="bi bi-pencil"></i> 编辑
                                </button>
                                <button class="btn btn-sm btn-outline-info me-1" onclick="viewBatchDetails('JDi-DNAG-241017-02')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                                <button class="btn btn-sm btn-outline-success me-1" onclick="confirmBatch('JDi-DNAG-241017-02')">
                                    <i class="bi bi-check"></i> 确认
                                </button>
                                <button class="btn btn-sm btn-outline-danger" onclick="deleteBatch('JDi-DNAG-241017-02')">
                                    <i class="bi bi-trash"></i> 删除
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-DNAG-241017-02">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-DNAG-241017-02">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-DNAG-241017-02')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-DNAG-241017-02</td>
                            <td>海防港务集团</td>
                            <td>29</td>
                            <td>17</td>
                            <td>
                                <div class="currency-amount">฿ 143,210.98</div>
                            </td>
                            <td class="currency-amount">¥ 26,543.21</td>
                            <td><span class="status-badge status-confirmed">已确认</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-warning me-1" onclick="sendToDistribution('JDi-DNAG-241017-02')">
                                    <i class="bi bi-send"></i> 下发企配
                                </button>
                                <button class="btn btn-sm btn-outline-secondary me-1" onclick="cancelConfirm('JDi-DNAG-241017-02')">
                                    <i class="bi bi-x-circle"></i> 取消确认
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-DNAG-241017-02')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-DNAG-241017-02">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>顺化商贸公司</td>
                            <td>15</td>
                            <td>9</td>
                            <td>
                                <div class="currency-amount">฿ 76,543.21</div>
                                <div class="currency-amount">$ 2,134.56</div>
                            </td>
                            <td class="currency-amount">¥ 14,567.89</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-success">已报关</span></td>
                            <td>邓文海</td>
                            <td>+84 956 789 012</td>
                            <td>顺化市富春区黎圣宗街987号</td>
                            <td>周八</td>
                            <td>2024-10-15 11:40</td>
                            <td><span class="status-badge status-pending">待发运</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>槟椥省物流</td>
                            <td>41</td>
                            <td>25</td>
                            <td>
                                <div class="currency-amount">฿ 212,345.67</div>
                                <div class="currency-amount">$ 5,678.90</div>
                            </td>
                            <td class="currency-amount">¥ 40,234.56</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-info">报关中</span></td>
                            <td>潘氏兰</td>
                            <td>+84 967 890 123</td>
                            <td>槟椥省槟椥市阮文明街456号</td>
                            <td>赵六</td>
                            <td>2024-10-17 09:15</td>
                            <td><span class="status-badge status-shipped">已发运</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>平阳工业区</td>
                            <td>33</td>
                            <td>19</td>
                            <td>
                                <div class="currency-amount">฿ 167,890.12</div>
                            </td>
                            <td class="currency-amount">¥ 31,056.78</td>
                            <td><span class="badge bg-danger">否</span></td>
                            <td><span class="badge bg-secondary">无需报关</span></td>
                            <td>黎氏红</td>
                            <td>+84 978 901 234</td>
                            <td>平阳省土龙木市工业园区A区123号</td>
                            <td>孙七</td>
                            <td>2024-10-16 13:25</td>
                            <td><span class="status-badge status-delivered">已妥投</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-success me-1" onclick="downloadPOD('JDi-CTHO-241016-01')">
                                    <i class="bi bi-file-check"></i> 下载POD
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-CTHO-241016-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-CTHO-241016-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-CTHO-241016-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-CTHO-241016-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-CTHO-241016-01</td>
                            <td>同奈省贸易</td>
                            <td>27</td>
                            <td>16</td>
                            <td>
                                <div class="currency-amount">฿ 134,567.89</div>
                                <div class="currency-amount">$ 3,567.12</div>
                            </td>
                            <td class="currency-amount">¥ 25,432.10</td>
                            <td><span class="status-badge status-new">新建</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="editBatch('JDi-CTHO-241016-01')">
                                    <i class="bi bi-pencil"></i> 编辑
                                </button>
                                <button class="btn btn-sm btn-outline-info me-1" onclick="viewBatchDetails('JDi-CTHO-241016-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                                <button class="btn btn-sm btn-outline-success me-1" onclick="confirmBatch('JDi-CTHO-241016-01')">
                                    <i class="bi bi-check"></i> 确认
                                </button>
                                <button class="btn btn-sm btn-outline-danger" onclick="deleteBatch('JDi-CTHO-241016-01')">
                                    <i class="bi bi-trash"></i> 删除
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-CTHO-241016-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-CTHO-241016-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-CTHO-241016-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-CTHO-241016-01</td>
                            <td>巴地头顿物流</td>
                            <td>36</td>
                            <td>21</td>
                            <td>
                                <div class="currency-amount">฿ 189,012.34</div>
                                <div class="currency-amount">$ 4,890.67</div>
                            </td>
                            <td class="currency-amount">¥ 35,678.90</td>
                            <td><span class="status-badge status-confirmed">已确认</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-warning me-1" onclick="sendToDistribution('JDi-CTHO-241016-01')">
                                    <i class="bi bi-send"></i> 下发企配
                                </button>
                                <button class="btn btn-sm btn-outline-secondary me-1" onclick="cancelConfirm('JDi-CTHO-241016-01')">
                                    <i class="bi bi-x-circle"></i> 取消确认
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-CTHO-241016-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-CTHO-241016-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-CTHO-241016-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-CTHO-241016-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-CTHO-241016-01</td>
                            <td>安江省商务</td>
                            <td>19</td>
                            <td>11</td>
                            <td>
                                <div class="currency-amount">฿ 95,432.10</div>
                            </td>
                            <td class="currency-amount">¥ 17,654.32</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-success">已报关</span></td>
                            <td>邓文海</td>
                            <td>+84 956 789 012</td>
                            <td>顺化市富春区黎圣宗街987号</td>
                            <td>周八</td>
                            <td>2024-10-15 11:40</td>
                            <td><span class="status-badge status-pending">待发运</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>广宁省进出口</td>
                            <td>44</td>
                            <td>26</td>
                            <td>
                                <div class="currency-amount">฿ 223,456.78</div>
                                <div class="currency-amount">$ 6,123.45</div>
                            </td>
                            <td class="currency-amount">¥ 42,345.67</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-info">报关中</span></td>
                            <td>范氏花</td>
                            <td>+84 934 567 890</td>
                            <td>岘港市海州区黎笋街321号</td>
                            <td>赵六</td>
                            <td>2024-10-17 09:15</td>
                            <td><span class="status-badge status-shipped">已发运</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>太原省物流</td>
                            <td>31</td>
                            <td>18</td>
                            <td>
                                <div class="currency-amount">฿ 156,789.01</div>
                            </td>
                            <td class="currency-amount">¥ 29,012.34</td>
                            <td><span class="badge bg-danger">否</span></td>
                            <td><span class="badge bg-secondary">无需报关</span></td>
                            <td>武氏梅</td>
                            <td>+84 945 678 901</td>
                            <td>芹苴市丰田区阮文渠街654号</td>
                            <td>孙七</td>
                            <td>2024-10-16 13:25</td>
                            <td><span class="status-badge status-delivered">已妥投</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-success me-1" onclick="downloadPOD('JDi-VNTR-241018-01')">
                                    <i class="bi bi-file-check"></i> 下载POD
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>老街边贸公司</td>
                            <td>23</td>
                            <td>13</td>
                            <td>
                                <div class="currency-amount">฿ 112,345.67</div>
                                <div class="currency-amount">$ 2,987.65</div>
                            </td>
                            <td class="currency-amount">¥ 21,234.56</td>
                            <td><span class="status-badge status-new">新建</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="editBatch('JDi-VNTR-241018-01')">
                                    <i class="bi bi-pencil"></i> 编辑
                                </button>
                                <button class="btn btn-sm btn-outline-info me-1" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                                <button class="btn btn-sm btn-outline-success me-1" onclick="confirmBatch('JDi-VNTR-241018-01')">
                                    <i class="bi bi-check"></i> 确认
                                </button>
                                <button class="btn btn-sm btn-outline-danger" onclick="deleteBatch('JDi-VNTR-241018-01')">
                                    <i class="bi bi-trash"></i> 删除
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>高平省贸易</td>
                            <td>39</td>
                            <td>23</td>
                            <td>
                                <div class="currency-amount">฿ 201,234.56</div>
                                <div class="currency-amount">$ 5,432.10</div>
                            </td>
                            <td class="currency-amount">¥ 38,123.45</td>
                            <td><span class="status-badge status-confirmed">已确认</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-warning me-1" onclick="sendToDistribution('JDi-VNTR-241018-01')">
                                    <i class="bi bi-send"></i> 下发企配
                                </button>
                                <button class="btn btn-sm btn-outline-secondary me-1" onclick="cancelConfirm('JDi-VNTR-241018-01')">
                                    <i class="bi bi-x-circle"></i> 取消确认
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>莱州省物流</td>
                            <td>26</td>
                            <td>15</td>
                            <td>
                                <div class="currency-amount">฿ 128,765.43</div>
                            </td>
                            <td class="currency-amount">¥ 23,876.54</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-success">已报关</span></td>
                            <td>邓文海</td>
                            <td>+84 956 789 012</td>
                            <td>顺化市富春区黎圣宗街987号</td>
                            <td>周八</td>
                            <td>2024-10-15 11:40</td>
                            <td><span class="status-badge status-pending">待发运</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>奠边省商务</td>
                            <td>17</td>
                            <td>10</td>
                            <td>
                                <div class="currency-amount">฿ 84,321.09</div>
                                <div class="currency-amount">$ 2,234.56</div>
                            </td>
                            <td class="currency-amount">¥ 15,987.65</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-info">报关中</span></td>
                            <td>范氏花</td>
                            <td>+84 934 567 890</td>
                            <td>岘港市海州区黎笋街321号</td>
                            <td>赵六</td>
                            <td>2024-10-17 09:15</td>
                            <td><span class="status-badge status-shipped">已发运</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>山罗省进出口</td>
                            <td>35</td>
                            <td>20</td>
                            <td>
                                <div class="currency-amount">฿ 178,901.23</div>
                                <div class="currency-amount">$ 4,678.90</div>
                            </td>
                            <td class="currency-amount">¥ 33,456.78</td>
                            <td><span class="badge bg-danger">否</span></td>
                            <td><span class="badge bg-secondary">无需报关</span></td>
                            <td>武氏梅</td>
                            <td>+84 945 678 901</td>
                            <td>芹苴市丰田区阮文渠街654号</td>
                            <td>孙七</td>
                            <td>2024-10-16 13:25</td>
                            <td><span class="status-badge status-delivered">已妥投</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-success me-1" onclick="downloadPOD('JDi-VNTR-241018-01')">
                                    <i class="bi bi-file-check"></i> 下载POD
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>和平省物流</td>
                            <td>28</td>
                            <td>16</td>
                            <td>
                                <div class="currency-amount">฿ 145,678.90</div>
                            </td>
                            <td class="currency-amount">¥ 26,987.65</td>
                            <td><span class="status-badge status-new">新建</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="editBatch('JDi-VNTR-241018-01')">
                                    <i class="bi bi-pencil"></i> 编辑
                                </button>
                                <button class="btn btn-sm btn-outline-info me-1" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                                <button class="btn btn-sm btn-outline-success me-1" onclick="confirmBatch('JDi-VNTR-241018-01')">
                                    <i class="bi bi-check"></i> 确认
                                </button>
                                <button class="btn btn-sm btn-outline-danger" onclick="deleteBatch('JDi-VNTR-241018-01')">
                                    <i class="bi bi-trash"></i> 删除
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>富寿省贸易</td>
                            <td>42</td>
                            <td>24</td>
                            <td>
                                <div class="currency-amount">฿ 215,432.10</div>
                                <div class="currency-amount">$ 5,876.54</div>
                            </td>
                            <td class="currency-amount">¥ 40,876.54</td>
                            <td><span class="status-badge status-confirmed">已确认</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-warning me-1" onclick="sendToDistribution('JDi-VNTR-241018-01')">
                                    <i class="bi bi-send"></i> 下发企配
                                </button>
                                <button class="btn btn-sm btn-outline-secondary me-1" onclick="cancelConfirm('JDi-VNTR-241018-01')">
                                    <i class="bi bi-x-circle"></i> 取消确认
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>永福省商务</td>
                            <td>21</td>
                            <td>12</td>
                            <td>
                                <div class="currency-amount">฿ 103,456.78</div>
                            </td>
                            <td class="currency-amount">¥ 19,123.45</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-success">已报关</span></td>
                            <td>邓文海</td>
                            <td>+84 956 789 012</td>
                            <td>顺化市富春区黎圣宗街987号</td>
                            <td>周八</td>
                            <td>2024-10-15 11:40</td>
                            <td><span class="status-badge status-pending">待发运</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>北江省物流</td>
                            <td>37</td>
                            <td>21</td>
                            <td>
                                <div class="currency-amount">฿ 192,345.67</div>
                                <div class="currency-amount">$ 5,123.45</div>
                            </td>
                            <td class="currency-amount">¥ 36,432.10</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-info">报关中</span></td>
                            <td>范氏花</td>
                            <td>+84 934 567 890</td>
                            <td>岘港市海州区黎笋街321号</td>
                            <td>赵六</td>
                            <td>2024-10-17 09:15</td>
                            <td><span class="status-badge status-shipped">已发运</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>兴安省进出口</td>
                            <td>30</td>
                            <td>17</td>
                            <td>
                                <div class="currency-amount">฿ 154,321.09</div>
                            </td>
                            <td class="currency-amount">¥ 28,543.21</td>
                            <td><span class="badge bg-danger">否</span></td>
                            <td><span class="badge bg-secondary">无需报关</span></td>
                            <td>武氏梅</td>
                            <td>+84 945 678 901</td>
                            <td>芹苴市丰田区阮文渠街654号</td>
                            <td>孙七</td>
                            <td>2024-10-16 13:25</td>
                            <td><span class="status-badge status-delivered">已妥投</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-success me-1" onclick="downloadPOD('JDi-VNTR-241018-01')">
                                    <i class="bi bi-file-check"></i> 下载POD
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>海阳省贸易</td>
                            <td>24</td>
                            <td>14</td>
                            <td>
                                <div class="currency-amount">฿ 119,876.54</div>
                                <div class="currency-amount">$ 3,234.56</div>
                            </td>
                            <td class="currency-amount">¥ 22,765.43</td>
                            <td><span class="status-badge status-new">新建</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="editBatch('JDi-VNTR-241018-01')">
                                    <i class="bi bi-pencil"></i> 编辑
                                </button>
                                <button class="btn btn-sm btn-outline-info me-1" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                                <button class="btn btn-sm btn-outline-success me-1" onclick="confirmBatch('JDi-VNTR-241018-01')">
                                    <i class="bi bi-check"></i> 确认
                                </button>
                                <button class="btn btn-sm btn-outline-danger" onclick="deleteBatch('JDi-VNTR-241018-01')">
                                    <i class="bi bi-trash"></i> 删除
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>宁平省物流</td>
                            <td>40</td>
                            <td>23</td>
                            <td>
                                <div class="currency-amount">฿ 207,654.32</div>
                                <div class="currency-amount">$ 5,654.32</div>
                            </td>
                            <td class="currency-amount">¥ 39,321.09</td>
                            <td><span class="status-badge status-confirmed">已确认</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-warning me-1" onclick="sendToDistribution('JDi-VNTR-241018-01')">
                                    <i class="bi bi-send"></i> 下发企配
                                </button>
                                <button class="btn btn-sm btn-outline-secondary me-1" onclick="cancelConfirm('JDi-VNTR-241018-01')">
                                    <i class="bi bi-x-circle"></i> 取消确认
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>南定省商务</td>
                            <td>20</td>
                            <td>11</td>
                            <td>
                                <div class="currency-amount">฿ 98,765.43</div>
                            </td>
                            <td class="currency-amount">¥ 18,234.56</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-success">已报关</span></td>
                            <td>邓文海</td>
                            <td>+84 956 789 012</td>
                            <td>顺化市富春区黎圣宗街987号</td>
                            <td>周八</td>
                            <td>2024-10-15 11:40</td>
                            <td><span class="status-badge status-pending">待发运</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>清化省进出口</td>
                            <td>34</td>
                            <td>19</td>
                            <td>
                                <div class="currency-amount">฿ 172,109.87</div>
                                <div class="currency-amount">$ 4,543.21</div>
                            </td>
                            <td class="currency-amount">¥ 32,109.87</td>
                            <td><span class="badge bg-success">是</span></td>
                            <td><span class="badge bg-info">报关中</span></td>
                            <td>范氏花</td>
                            <td>+84 934 567 890</td>
                            <td>岘港市海州区黎笋街321号</td>
                            <td>赵六</td>
                            <td>2024-10-17 09:15</td>
                            <td><span class="status-badge status-shipped">已发运</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-batch-id="JDi-VNTR-241018-01">
                            <td>
                                <input type="checkbox" class="form-check-input batch-checkbox" value="JDi-VNTR-241018-01">
                            </td>
                            <td>
                                <button class="expand-btn" onclick="toggleBatchDetails(this, 'JDi-VNTR-241018-01')">
                                    <i class="bi bi-plus-square"></i>
                                </button>
                            </td>
                            <td>JDi-VNTR-241018-01</td>
                            <td>义安省物流</td>
                            <td>46</td>
                            <td>27</td>
                            <td>
                                <div class="currency-amount">฿ 245,678.90</div>
                                <div class="currency-amount">$ 6,789.01</div>
                            </td>
                            <td class="currency-amount">¥ 46,543.21</td>
                            <td><span class="badge bg-danger">否</span></td>
                            <td><span class="badge bg-secondary">无需报关</span></td>
                            <td>武氏梅</td>
                            <td>+84 945 678 901</td>
                            <td>芹苴市丰田区阮文渠街654号</td>
                            <td>孙七</td>
                            <td>2024-10-16 13:25</td>
                            <td><span class="status-badge status-delivered">已妥投</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" onclick="downloadHandover('JDi-VNTR-241018-01')">
                                    <i class="bi bi-download"></i> 下载交接单
                                </button>
                                <button class="btn btn-sm btn-outline-success me-1" onclick="downloadPOD('JDi-VNTR-241018-01')">
                                    <i class="bi bi-file-check"></i> 下载POD
                                </button>
                                <button class="btn btn-sm btn-outline-info" onclick="viewBatchDetails('JDi-VNTR-241018-01')">
                                    <i class="bi bi-eye"></i> 详情
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- 分页 -->
            <nav aria-label="分页导航" class="mt-4">
                <ul class="pagination justify-content-center">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">上一页</a>
                    </li>
                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#">下一页</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // 全选/取消全选功能
        function toggleSelectAll() {
            const selectAll = document.getElementById('selectAll');
            const checkboxes = document.querySelectorAll('.batch-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.checked = selectAll.checked;
            });
        }

        // 展开/收起批次详情
        function toggleBatchDetails(button, batchId) {
            const icon = button.querySelector('i');
            const row = button.closest('tr');
            let detailsRow = row.nextElementSibling;
            
            // 检查是否已存在详情行
            if (detailsRow && detailsRow.classList.contains('batch-details-row')) {
                // 如果存在，则移除
                detailsRow.remove();
                icon.className = 'bi bi-plus-square';
                button.classList.remove('expanded');
            } else {
                // 如果不存在，则创建并插入
                const detailsRowHtml = createBatchDetailsRow(batchId);
                row.insertAdjacentHTML('afterend', detailsRowHtml);
                icon.className = 'bi bi-dash-square';
                button.classList.add('expanded');
            }
        }

        // 创建批次详情行
        function createBatchDetailsRow(batchId) {
            // 模拟批次对应的订单商品数据
            const mockData = [
                {
                    customerName: '越南客户A',
                    orderNumber: 'ORD20241001001',
                    mku: 'MKU001',
                    sku: 'SKU001',
                    thirdPartyOrderNumber: 'TP001',
                    customerMaterialCode: 'CM001',
                    productNameCN: '智能手机',
                    productNameVN: 'Điện thoại thông minh',
                    quantity: 2,
                    unitPrice: '฿ 15,500.00',
                    totalAmount: '฿ 31,000.00',
                    originCountry: '中国',
                    originPlace: '深圳',
                    salesUnit: '台/Cái',
                    customerApprovalTime: '2024-10-01 09:30:00',
                    orderConfirmTime: '2024-10-01 10:00:00',
                    orderShipTime: '2024-10-01 14:00:00',
                    consolidationReceiveTime: '2024-10-02 08:00:00',
                    consolidationShipTime: '2024-10-02 16:00:00',
                    promiseDeliveryTime: '2024-10-05 18:00:00',
                    plannedDeliveryTime: '2024-10-05 15:00:00',
                    distributionReceiveTime: '2024-10-03 10:00:00',
                    customsDeclaration: '是',
                    distributionCenter: '胡志明企配中心',
                    warehouseName: '胡志明备货仓',
                    localBatchNumber: batchId,
                    consignee: 'Nguyen Van A',
                    consigneePhone: '+84 901 234 567',
                    address: '胡志明市/第一郡/Ben Nghe坊/详细地址：123 Nguyen Hue Street'
                }
            ];

            let detailsHtml = `
                <tr class="batch-details-row">
                    <td colspan="10" class="batch-details p-0">
                        <div class="p-3">
                            <h6 class="text-primary mb-3">
                                <i class="bi bi-box-seam me-2"></i>批次 ${batchId} 对应订单商品信息
                            </h6>
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>客户名称</th>
                                            <th>订单编号</th>
                                            <th>MKU</th>
                                            <th>SKU</th>
                                            <th>三方订单号</th>
                                            <th>客户物料号</th>
                                            <th>商品中文名称</th>
                                            <th>商品越南语名称</th>
                                            <th>商品件数</th>
                                            <th>商品含税单价</th>
                                            <th>订单行含税总金额</th>
                                            <th>商品原产国</th>
                                            <th>商品原产地</th>
                                            <th>商品销售单位</th>
                                            <th>客户审批时间</th>
                                            <th>订单确认时间</th>
                                            <th>订单发货时间</th>
                                            <th>集运中心收货时间</th>
                                            <th>集运中心发货时间</th>
                                            <th>承诺送达时间</th>
                                            <th>计划妥投时间</th>
                                            <th>企配收货时间</th>
                                            <th>是否报关</th>
                                            <th>企配中心</th>
                                            <th>备货仓名称</th>
                                            <th>本地发运批次号</th>
                                            <th>收货人</th>
                                            <th>收货人电话</th>
                                            <th>收货地址</th>
                                        </tr>
                                    </thead>
                                    <tbody>`;

            mockData.forEach(item => {
                detailsHtml += `
                    <tr>
                        <td>${item.customerName}</td>
                        <td>${item.orderNumber}</td>
                        <td>${item.mku}</td>
                        <td>${item.sku}</td>
                        <td>${item.thirdPartyOrderNumber}</td>
                        <td>${item.customerMaterialCode}</td>
                        <td>${item.productNameCN}</td>
                        <td>${item.productNameVN}</td>
                        <td>${item.quantity}</td>
                        <td class="currency-amount">${item.unitPrice}</td>
                        <td class="currency-amount">${item.totalAmount}</td>
                        <td>${item.originCountry}</td>
                        <td>${item.originPlace}</td>
                        <td>${item.salesUnit}</td>
                        <td>${item.customerApprovalTime}</td>
                        <td>${item.orderConfirmTime}</td>
                        <td>${item.orderShipTime}</td>
                        <td>${item.consolidationReceiveTime}</td>
                        <td>${item.consolidationShipTime}</td>
                        <td>${item.promiseDeliveryTime}</td>
                        <td>${item.plannedDeliveryTime}</td>
                        <td>${item.distributionReceiveTime}</td>
                        <td>${item.customsDeclaration}</td>
                        <td>${item.distributionCenter}</td>
                        <td>${item.warehouseName}</td>
                        <td>${item.localBatchNumber}</td>
                        <td>${item.consignee}</td>
                        <td>${item.consigneePhone}</td>
                        <td>${item.address}</td>
                    </tr>`;
            });

            detailsHtml += `
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </td>
                </tr>`;

            return detailsHtml;
        }

        // 批量确认功能
        function batchConfirm() {
            const selectedCheckboxes = document.querySelectorAll('.batch-checkbox:checked');
            if (selectedCheckboxes.length === 0) {
                alert('请选择要确认的批次');
                return;
            }
            
            const batchIds = Array.from(selectedCheckboxes).map(cb => cb.value);
            if (confirm(`确认要批量确认选中的 ${batchIds.length} 个批次吗？`)) {
                console.log('批量确认批次:', batchIds);
                alert('批量确认成功');
            }
        }

        // 更新计划发货时间
        function updatePlannedShipTime() {
            const selectedCheckboxes = document.querySelectorAll('.batch-checkbox:checked');
            if (selectedCheckboxes.length === 0) {
                alert('请选择要更新的批次');
                return;
            }
            
            const newTime = prompt('请输入新的计划发货时间（格式：YYYY-MM-DD）：');
            if (newTime) {
                console.log('更新计划发货时间:', newTime);
                alert('计划发货时间更新成功');
            }
        }

        // 更新计划送达时间
        function updatePlannedDeliveryTime() {
            const selectedCheckboxes = document.querySelectorAll('.batch-checkbox:checked');
            if (selectedCheckboxes.length === 0) {
                alert('请选择要更新的批次');
                return;
            }
            
            const newTime = prompt('请输入新的计划送达时间（格式：YYYY-MM-DD）：');
            if (newTime) {
                console.log('更新计划送达时间:', newTime);
                alert('计划送达时间更新成功');
            }
        }

        // 导出批次信息
        function exportBatchInfo() {
            console.log('导出批次信息');
            alert('批次信息导出成功');
        }

        // 导出批次订单信息
        function exportBatchOrderInfo() {
            console.log('导出批次订单信息');
            alert('批次订单信息导出成功');
        }

        // 编辑批次
        function editBatch(batchId) {
            console.log('编辑批次:', batchId);
            window.location.href = `vietnam-batch-edit.html?id=${batchId}`;
        }

        // 查看批次详情
        function viewBatchDetails(batchId) {
            console.log('查看批次详情:', batchId);
            window.location.href = `vietnam-batch-details.html?id=${batchId}`;
        }

        // 确认批次
        function confirmBatch(batchId) {
            if (confirm(`确认要确认批次 ${batchId} 吗？`)) {
                console.log('确认批次:', batchId);
                alert('批次确认成功');
            }
        }

        // 删除批次
        function deleteBatch(batchId) {
            if (confirm(`确认要删除批次 ${batchId} 吗？此操作不可恢复！`)) {
                console.log('删除批次:', batchId);
                alert('批次删除成功');
            }
        }

        // 下发企配
        function sendToDistribution(batchId) {
            if (confirm(`确认要下发批次 ${batchId} 至企配吗？`)) {
                console.log('下发企配:', batchId);
                alert('下发企配成功');
            }
        }

        // 取消确认
        function cancelConfirm(batchId) {
            if (confirm(`确认要取消确认批次 ${batchId} 吗？`)) {
                console.log('取消确认:', batchId);
                alert('取消确认成功');
            }
        }

        // 表单提交处理
        document.getElementById('searchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('执行查询操作');
            alert('查询完成');
        });

        // 表单重置处理
        document.getElementById('searchForm').addEventListener('reset', function() {
            setTimeout(() => {
                console.log('表单已重置');
            }, 100);
        });
    </script>
<script>
        // 切换侧边栏
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            
            sidebar.classList.toggle('collapsed');
            mainContent.classList.toggle('expanded');
        }
        
        // 响应式处理
        function handleResize() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            
            if (window.innerWidth <= 768) {
                sidebar.classList.remove('show');
            }
        }
        
        // 移动端菜单切换
        function toggleMobileSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('show');
        }
        
        // 初始化
        window.addEventListener('resize', handleResize);
        
        // 移动端点击外部关闭侧边栏
        document.addEventListener('click', function(event) {
            const sidebar = document.getElementById('sidebar');
            const toggleBtn = document.querySelector('.toggle-btn');
            
            if (window.innerWidth <= 768 && 
                !sidebar.contains(event.target) && 
                !toggleBtn.contains(event.target)) {
                sidebar.classList.remove('show');
            }
        });
        
        // 移动端响应式样式
        const mediaQuery = window.matchMedia('(max-width: 768px)');
        function handleMobileChange(e) {
            const sidebar = document.getElementById('sidebar');
            if (e.matches) {
                // 移动端
                sidebar.style.transform = 'translateX(-100%)';
                document.querySelector('.toggle-btn').onclick = toggleMobileSidebar;
            } else {
                // 桌面端
                sidebar.style.transform = 'translateX(0)';
                document.querySelector('.toggle-btn').onclick = toggleSidebar;
            }
        }
        
        mediaQuery.addListener(handleMobileChange);
        handleMobileChange(mediaQuery);
        
        // 状态筛选功能
        let currentFilter = 'all';
        
        // 状态筛选函数
        function filterByStatus(status) {
            currentFilter = status;
            
            // 更新筛选卡片的激活状态
            document.querySelectorAll('.status-filter-card').forEach(card => {
                card.classList.remove('active');
            });
            document.querySelector(`[data-status="${status}"]`).classList.add('active');
            
            // 获取所有表格行
            const rows = document.querySelectorAll('#batchTableBody tr[data-batch-id]');
            let visibleCount = 0;
            
            rows.forEach(row => {
                const statusBadge = row.querySelector('.status-badge');
                if (!statusBadge) return;
                
                let shouldShow = false;
                
                if (status === 'all') {
                    shouldShow = true;
                } else {
                    // 根据状态文本判断是否显示
                    const statusText = statusBadge.textContent.trim();
                    
                    switch (status) {
                        case 'new':
                            shouldShow = statusText === '新建';
                            break;
                        case 'confirmed':
                            shouldShow = statusText === '已确认';
                            break;
                        case 'pending':
                            shouldShow = statusText === '待下发';
                            break;
                        case 'ready':
                            shouldShow = statusText === '待发运';
                            break;
                        case 'shipped':
                            shouldShow = statusText === '已发运';
                            break;
                    }
                }
                
                if (shouldShow) {
                    row.style.display = '';
                    visibleCount++;
                } else {
                    row.style.display = 'none';
                    // 同时隐藏展开的详情行
                    const detailsRow = row.nextElementSibling;
                    if (detailsRow && detailsRow.classList.contains('batch-details-row')) {
                        detailsRow.style.display = 'none';
                    }
                }
            });
            
            // 更新筛选结果提示
            updateFilterResultInfo(visibleCount, rows.length);
        }
        
        // 更新筛选结果信息
        function updateFilterResultInfo(visibleCount, totalCount) {
            let resultInfo = document.querySelector('.filter-result-info');
            if (!resultInfo) {
                resultInfo = document.createElement('div');
                resultInfo.className = 'filter-result-info mt-2 text-muted';
                document.querySelector('.status-filter-section').appendChild(resultInfo);
            }
            
            if (currentFilter === 'all') {
                resultInfo.textContent = `共 ${totalCount} 条记录`;
            } else {
                resultInfo.textContent = `筛选显示 ${visibleCount} 条记录，共 ${totalCount} 条记录`;
            }
        }
        
        // 统计各状态数量并更新筛选卡片
        function updateStatusCounts() {
            const statusCounts = {
                all: 0,
                new: 0,
                confirmed: 0,
                pending: 0,
                ready: 0,
                shipped: 0
            };
            
            const rows = document.querySelectorAll('#batchTableBody tr[data-batch-id]');
            statusCounts.all = rows.length;
            
            rows.forEach(row => {
                const statusBadge = row.querySelector('.status-badge');
                if (!statusBadge) return;
                
                const statusText = statusBadge.textContent.trim();
                switch (statusText) {
                    case '新建':
                        statusCounts.new++;
                        break;
                    case '已确认':
                        statusCounts.confirmed++;
                        break;
                    case '待下发':
                        statusCounts.pending++;
                        break;
                    case '待发运':
                        statusCounts.ready++;
                        break;
                    case '已发运':
                        statusCounts.shipped++;
                        break;
                }
            });
            
            // 更新筛选卡片中的数量显示
            Object.keys(statusCounts).forEach(status => {
                const card = document.querySelector(`[data-status="${status}"]`);
                if (card) {
                    const countElement = card.querySelector('.status-count');
                    if (countElement) {
                        countElement.textContent = statusCounts[status];
                    }
                }
            });
        }

        // 页面加载完成后初始化状态筛选
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化状态统计
            updateStatusCounts();
            
            // 初始化筛选结果信息
            const rows = document.querySelectorAll('#batchTableBody tr[data-batch-id]');
            updateFilterResultInfo(rows.length, rows.length);
        });
    </script>

    <!-- 批次列配置模态框 -->
    <div class="modal fade" id="batchColumnConfigModal" tabindex="-1" aria-labelledby="batchColumnConfigModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="batchColumnConfigModalLabel">
                        <i class="bi bi-gear me-2"></i>批次列展示配置
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-12">
                            <p class="text-muted mb-3">请选择要在批次表格中显示的列：</p>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="batch-number" id="col-batch-number" checked disabled>
                                        <label class="form-check-label" for="col-batch-number">
                                            本地发运批次号 <span class="text-muted">(必选)</span>
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="customer-name" id="col-customer-name" checked>
                                        <label class="form-check-label" for="col-customer-name">
                                            客户名称
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="order-count" id="col-order-count" checked>
                                        <label class="form-check-label" for="col-order-count">
                                            订单数量
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="mku-count" id="col-mku-count" checked>
                                        <label class="form-check-label" for="col-mku-count">
                                            MKU数量
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="total-amount" id="col-total-amount" checked>
                                        <label class="form-check-label" for="col-total-amount">
                                            订单行含税总金额
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="rmb-amount" id="col-rmb-amount" checked>
                                        <label class="form-check-label" for="col-rmb-amount">
                                            人民币金额
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="customs-declaration" id="col-customs-declaration" checked>
                                        <label class="form-check-label" for="col-customs-declaration">
                                            是否报关
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="customs-status" id="col-customs-status" checked>
                                        <label class="form-check-label" for="col-customs-status">
                                            报关状态
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="consignee" id="col-consignee" checked>
                                        <label class="form-check-label" for="col-consignee">
                                            收件人
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="consignee-phone" id="col-consignee-phone" checked>
                                        <label class="form-check-label" for="col-consignee-phone">
                                            收件人电话
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="consignee-address" id="col-consignee-address" checked>
                                        <label class="form-check-label" for="col-consignee-address">
                                            收件人地址
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="creator" id="col-creator" checked>
                                        <label class="form-check-label" for="col-creator">
                                            创建人
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="create-time" id="col-create-time" checked>
                                        <label class="form-check-label" for="col-create-time">
                                            创建时间
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="status" id="col-status" checked>
                                        <label class="form-check-label" for="col-status">
                                            状态
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input batch-column-checkbox" type="checkbox" value="actions" id="col-actions" checked disabled>
                                        <label class="form-check-label" for="col-actions">
                                            操作 <span class="text-muted">(必选)</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" onclick="resetBatchColumnConfig()">
                        <i class="bi bi-arrow-clockwise me-2"></i>重置默认
                    </button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="bi bi-x-circle me-2"></i>取消
                    </button>
                    <button type="button" class="btn btn-primary" onclick="applyBatchColumnConfig()">
                        <i class="bi bi-check-circle me-2"></i>应用配置
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 订单商品信息列配置模态框 -->
    <div class="modal fade" id="orderColumnConfigModal" tabindex="-1" aria-labelledby="orderColumnConfigModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="orderColumnConfigModalLabel">
                        <i class="bi bi-sliders me-2"></i>订单商品信息列展示配置
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-12">
                            <p class="text-muted mb-3">请选择要在订单商品信息表格中显示的列：</p>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="customer-name" id="order-col-customer-name" checked>
                                        <label class="form-check-label" for="order-col-customer-name">
                                            客户名称
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="order-number" id="order-col-order-number" checked>
                                        <label class="form-check-label" for="order-col-order-number">
                                            订单编号
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="mku" id="order-col-mku" checked>
                                        <label class="form-check-label" for="order-col-mku">
                                            MKU
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="sku" id="order-col-sku" checked>
                                        <label class="form-check-label" for="order-col-sku">
                                            SKU
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="third-party-order" id="order-col-third-party-order" checked>
                                        <label class="form-check-label" for="order-col-third-party-order">
                                            三方订单号
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="customer-material-code" id="order-col-customer-material-code" checked>
                                        <label class="form-check-label" for="order-col-customer-material-code">
                                            客户物料号
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="product-name-cn" id="order-col-product-name-cn" checked>
                                        <label class="form-check-label" for="order-col-product-name-cn">
                                            商品中文名称
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="product-name-vn" id="order-col-product-name-vn" checked>
                                        <label class="form-check-label" for="order-col-product-name-vn">
                                            商品越南语名称
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="quantity" id="order-col-quantity" checked>
                                        <label class="form-check-label" for="order-col-quantity">
                                            商品件数
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="unit-price" id="order-col-unit-price" checked>
                                        <label class="form-check-label" for="order-col-unit-price">
                                            商品含税单价
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="total-amount" id="order-col-total-amount" checked>
                                        <label class="form-check-label" for="order-col-total-amount">
                                            订单行含税总金额
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="origin-country" id="order-col-origin-country" checked>
                                        <label class="form-check-label" for="order-col-origin-country">
                                            商品原产国
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="origin-place" id="order-col-origin-place" checked>
                                        <label class="form-check-label" for="order-col-origin-place">
                                            商品原产地
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="sales-unit" id="order-col-sales-unit" checked>
                                        <label class="form-check-label" for="order-col-sales-unit">
                                            商品销售单位
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="customer-approval-time" id="order-col-customer-approval-time" checked>
                                        <label class="form-check-label" for="order-col-customer-approval-time">
                                            客户审批时间
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="order-confirm-time" id="order-col-order-confirm-time" checked>
                                        <label class="form-check-label" for="order-col-order-confirm-time">
                                            订单确认时间
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="order-ship-time" id="order-col-order-ship-time" checked>
                                        <label class="form-check-label" for="order-col-order-ship-time">
                                            订单发货时间
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="consolidation-receive-time" id="order-col-consolidation-receive-time" checked>
                                        <label class="form-check-label" for="order-col-consolidation-receive-time">
                                            集运中心收货时间
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="consolidation-ship-time" id="order-col-consolidation-ship-time" checked>
                                        <label class="form-check-label" for="order-col-consolidation-ship-time">
                                            集运中心发货时间
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="promise-delivery-time" id="order-col-promise-delivery-time" checked>
                                        <label class="form-check-label" for="order-col-promise-delivery-time">
                                            承诺送达时间
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="planned-delivery-time" id="order-col-planned-delivery-time" checked>
                                        <label class="form-check-label" for="order-col-planned-delivery-time">
                                            计划妥投时间
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="distribution-receive-time" id="order-col-distribution-receive-time" checked>
                                        <label class="form-check-label" for="order-col-distribution-receive-time">
                                            企配收货时间
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="customs-declaration" id="order-col-customs-declaration" checked>
                                        <label class="form-check-label" for="order-col-customs-declaration">
                                            是否报关
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="distribution-center" id="order-col-distribution-center" checked>
                                        <label class="form-check-label" for="order-col-distribution-center">
                                            企配中心
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="warehouse-name" id="order-col-warehouse-name" checked>
                                        <label class="form-check-label" for="order-col-warehouse-name">
                                            备货仓名称
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="local-batch-number" id="order-col-local-batch-number" checked>
                                        <label class="form-check-label" for="order-col-local-batch-number">
                                            本地发运批次号
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="consignee" id="order-col-consignee" checked>
                                        <label class="form-check-label" for="order-col-consignee">
                                            收货人
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="consignee-phone" id="order-col-consignee-phone" checked>
                                        <label class="form-check-label" for="order-col-consignee-phone">
                                            收货人电话
                                        </label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input order-column-checkbox" type="checkbox" value="address" id="order-col-address" checked>
                                        <label class="form-check-label" for="order-col-address">
                                            收货地址
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" onclick="resetOrderColumnConfig()">
                        <i class="bi bi-arrow-clockwise me-2"></i>重置默认
                    </button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="bi bi-x-circle me-2"></i>取消
                    </button>
                    <button type="button" class="btn btn-primary" onclick="applyOrderColumnConfig()">
                        <i class="bi bi-check-circle me-2"></i>应用配置
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 列配置相关功能
        
        // 批次列配置功能
        function configureBatchColumns() {
            // 加载当前配置状态
            loadBatchColumnConfig();
        }
        
        // 加载批次列配置
        function loadBatchColumnConfig() {
            const savedConfig = localStorage.getItem('batchColumnConfig');
            if (savedConfig) {
                const config = JSON.parse(savedConfig);
                document.querySelectorAll('.batch-column-checkbox').forEach(checkbox => {
                    if (config.hasOwnProperty(checkbox.value)) {
                        checkbox.checked = config[checkbox.value];
                    }
                });
            }
        }
        
        // 重置批次列配置
        function resetBatchColumnConfig() {
            document.querySelectorAll('.batch-column-checkbox').forEach(checkbox => {
                if (!checkbox.disabled) {
                    checkbox.checked = true;
                }
            });
        }
        
        // 应用批次列配置
        function applyBatchColumnConfig() {
            const config = {};
            const columnMapping = {
                'batch-number': 2,
                'customer-name': 3,
                'order-count': 4,
                'mku-count': 5,
                'total-amount': 6,
                'rmb-amount': 7,
                'customs-declaration': 8,
                'customs-status': 9,
                'consignee': 10,
                'consignee-phone': 11,
                'consignee-address': 12,
                'creator': 13,
                'create-time': 14,
                'status': 15,
                'actions': 16
            };
            
            document.querySelectorAll('.batch-column-checkbox').forEach(checkbox => {
                config[checkbox.value] = checkbox.checked;
            });
            
            // 保存配置到本地存储
            localStorage.setItem('batchColumnConfig', JSON.stringify(config));
            
            // 应用配置到表格
            const table = document.querySelector('.table');
            const headerRow = table.querySelector('thead tr');
            const bodyRows = table.querySelectorAll('tbody tr[data-batch-id]');
            
            // 更新表头
            Object.keys(columnMapping).forEach(key => {
                const columnIndex = columnMapping[key];
                const headerCell = headerRow.children[columnIndex];
                if (headerCell) {
                    headerCell.style.display = config[key] ? '' : 'none';
                }
            });
            
            // 更新数据行
            bodyRows.forEach(row => {
                Object.keys(columnMapping).forEach(key => {
                    const columnIndex = columnMapping[key];
                    const cell = row.children[columnIndex];
                    if (cell) {
                        cell.style.display = config[key] ? '' : 'none';
                    }
                });
            });
            
            // 关闭模态框
            const modal = bootstrap.Modal.getInstance(document.getElementById('batchColumnConfigModal'));
            modal.hide();
            
            // 显示成功提示
            showToast('批次列配置已应用', 'success');
        }
        
        // 订单商品信息列配置功能
        function configureOrderColumns() {
            // 加载当前配置状态
            loadOrderColumnConfig();
        }
        
        // 加载订单商品信息列配置
        function loadOrderColumnConfig() {
            const savedConfig = localStorage.getItem('orderColumnConfig');
            if (savedConfig) {
                const config = JSON.parse(savedConfig);
                document.querySelectorAll('.order-column-checkbox').forEach(checkbox => {
                    if (config.hasOwnProperty(checkbox.value)) {
                        checkbox.checked = config[checkbox.value];
                    }
                });
            }
        }
        
        // 重置订单商品信息列配置
        function resetOrderColumnConfig() {
            document.querySelectorAll('.order-column-checkbox').forEach(checkbox => {
                checkbox.checked = true;
            });
        }
        
        // 应用订单商品信息列配置
        function applyOrderColumnConfig() {
            const config = {};
            
            document.querySelectorAll('.order-column-checkbox').forEach(checkbox => {
                config[checkbox.value] = checkbox.checked;
            });
            
            // 保存配置到本地存储
            localStorage.setItem('orderColumnConfig', JSON.stringify(config));
            
            // 关闭模态框
            const modal = bootstrap.Modal.getInstance(document.getElementById('orderColumnConfigModal'));
            modal.hide();
            
            // 显示成功提示
            showToast('订单商品信息列配置已应用', 'success');
            
            // 注意：订单商品信息表格是动态生成的，配置会在下次展开批次详情时生效
        }
        
        // 显示Toast提示
        function showToast(message, type = 'info') {
            // 创建toast容器（如果不存在）
            let toastContainer = document.querySelector('.toast-container');
            if (!toastContainer) {
                toastContainer = document.createElement('div');
                toastContainer.className = 'toast-container position-fixed top-0 end-0 p-3';
                toastContainer.style.zIndex = '9999';
                document.body.appendChild(toastContainer);
            }
            
            // 创建toast元素
            const toastId = 'toast-' + Date.now();
            const toastHtml = `
                <div id="${toastId}" class="toast align-items-center text-bg-${type === 'success' ? 'success' : 'info'} border-0" role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="d-flex">
                        <div class="toast-body">
                            <i class="bi bi-${type === 'success' ? 'check-circle' : 'info-circle'} me-2"></i>${message}
                        </div>
                        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                </div>
            `;
            
            toastContainer.insertAdjacentHTML('beforeend', toastHtml);
            
            // 显示toast
            const toastElement = document.getElementById(toastId);
            const toast = new bootstrap.Toast(toastElement, {
                autohide: true,
                delay: 3000
            });
            toast.show();
            
            // 自动移除toast元素
            toastElement.addEventListener('hidden.bs.toast', function() {
                toastElement.remove();
            });
        }
        
        // 页面加载时应用已保存的批次列配置
        document.addEventListener('DOMContentLoaded', function() {
            // 延迟应用配置，确保表格已渲染
            setTimeout(() => {
                const savedConfig = localStorage.getItem('batchColumnConfig');
                if (savedConfig) {
                    const config = JSON.parse(savedConfig);
                    const columnMapping = {
                        'batch-number': 2,
                        'customer-name': 3,
                        'order-count': 4,
                        'mku-count': 5,
                        'total-amount': 6,
                        'rmb-amount': 7,
                        'customs-declaration': 8,
                        'customs-status': 9,
                        'consignee': 10,
                        'consignee-phone': 11,
                        'consignee-address': 12,
                        'creator': 13,
                        'create-time': 14,
                        'status': 15,
                        'actions': 16
                    };
                    
                    const table = document.querySelector('.table');
                    if (table) {
                        const headerRow = table.querySelector('thead tr');
                        const bodyRows = table.querySelectorAll('tbody tr[data-batch-id]');
                        
                        // 应用到表头
                        Object.keys(columnMapping).forEach(key => {
                            if (config.hasOwnProperty(key) && !config[key]) {
                                const columnIndex = columnMapping[key];
                                const headerCell = headerRow.children[columnIndex];
                                if (headerCell) {
                                    headerCell.style.display = 'none';
                                }
                            }
                        });
                        
                        // 应用到数据行
                        bodyRows.forEach(row => {
                            Object.keys(columnMapping).forEach(key => {
                                if (config.hasOwnProperty(key) && !config[key]) {
                                    const columnIndex = columnMapping[key];
                                    const cell = row.children[columnIndex];
                                    if (cell) {
                                        cell.style.display = 'none';
                                    }
                                }
                            });
                        });
                    }
                }
            }, 500);
        });
    </script>
</body>
</html>